## Проблема с загрузкой изображений в галерею

**Симптомы:**
При загрузке нового изображения в админ-панели (`/admin/panel`) операция завершалась успешно, но на странице галереи (`/gallery`) новые изображения не отображались. В консоли браузера появлялась ошибка `net::ERR_CONNECTION_CLOSED` при попытке загрузить файл изображения из Supabase Storage.

**Диагностика:**
Анализ сетевых запросов показал, что URL изображения, который запрашивал браузер, был некорректным. Он содержал дублирующуюся часть пути, например: `.../storage/v1/object/public/gallery/gallery/image-name.jpg`.

Расследование кода в `src/services/gallery.service.ts` выявило, что путь к файлу (`filePath`) для загрузки в Supabase Storage конструировался неверно. Он включал в себя имя бакета (`gallery/`), которое затем дублировалось, так как метод `supabase.storage.from('gallery')` уже устанавливал контекст нужного бакета.

**Решение:**
Проблема была исправлена в файле `src/services/gallery.service.ts`. Строка, определяющая путь к файлу, была изменена:

- **Было:** `const filePath = \`gallery/${newFileName}\`;`
- **Стало:** `const filePath = newFileName;`

Это изменение позволило генерировать корректный публичный URL для каждого нового изображения. После исправления новые изображения успешно загружаются и отображаются в галерее.

**Примечание:** Старые изображения, загруженные до этого исправления, по-прежнему имеют неверные URL в базе данных и требуют ручного исправления или повторной загрузки. 